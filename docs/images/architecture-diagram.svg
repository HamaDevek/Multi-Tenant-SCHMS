<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 700">
    <!-- Background -->
    <rect width="1000" height="700" fill="#f9f9f9"/>

    <!-- Client Applications Group -->
    <rect x="400" y="30" width="200" height="80" rx="10" fill="#e1f5fe" stroke="#01579b" stroke-width="2"/>
    <text x="500" y="55" font-family="Arial" font-size="14" text-anchor="middle" font-weight="bold">Client Applications</text>
    <rect x="420" y="70" width="70" height="30" rx="5" fill="#ffffff" stroke="#01579b"/>
    <text x="455" y="90" font-family="Arial" font-size="12" text-anchor="middle">Web Client</text>
    <rect x="510" y="70" width="70" height="30" rx="5" fill="#ffffff" stroke="#01579b"/>
    <text x="545" y="90" font-family="Arial" font-size="12" text-anchor="middle">Mobile App</text>

    <!-- Express.js Backend Server Group -->
    <rect x="200" y="150" width="600" height="300" rx="10" fill="#e8f5e9" stroke="#1b5e20" stroke-width="3"/>
    <text x="500" y="175" font-family="Arial" font-size="16" text-anchor="middle" font-weight="bold">Express.js Backend Server</text>

    <!-- Middleware Layer -->
    <rect x="230" y="190" width="160" height="240" rx="5" fill="#c8e6c9" stroke="#1b5e20"/>
    <text x="310" y="210" font-family="Arial" font-size="14" text-anchor="middle" font-weight="bold">Middleware Layer</text>
    <rect x="250" y="225" width="120" height="30" rx="5" fill="#ffffff" stroke="#1b5e20"/>
    <text x="310" y="245" font-family="Arial" font-size="12" text-anchor="middle">Auth Middleware</text>
    <rect x="250" y="265" width="120" height="30" rx="5" fill="#ffffff" stroke="#1b5e20"/>
    <text x="310" y="285" font-family="Arial" font-size="12" text-anchor="middle">Tenant Middleware</text>
    <rect x="250" y="305" width="120" height="30" rx="5" fill="#ffffff" stroke="#1b5e20"/>
    <text x="310" y="325" font-family="Arial" font-size="12" text-anchor="middle">Rate Limiter</text>
    <rect x="250" y="345" width="120" height="30" rx="5" fill="#ffffff" stroke="#1b5e20"/>
    <text x="310" y="365" font-family="Arial" font-size="12" text-anchor="middle">Error Handler</text>
    <rect x="250" y="385" width="120" height="30" rx="5" fill="#ffffff" stroke="#1b5e20"/>
    <text x="310" y="405" font-family="Arial" font-size="12" text-anchor="middle">RBAC Manager</text>

    <!-- API Layer -->
    <rect x="420" y="190" width="160" height="130" rx="5" fill="#c8e6c9" stroke="#1b5e20"/>
    <text x="500" y="210" font-family="Arial" font-size="14" text-anchor="middle" font-weight="bold">API Layer</text>
    <rect x="440" y="225" width="120" height="25" rx="5" fill="#ffffff" stroke="#1b5e20"/>
    <text x="500" y="243" font-family="Arial" font-size="12" text-anchor="middle">Auth Routes</text>
    <rect x="440" y="255" width="120" height="25" rx="5" fill="#ffffff" stroke="#1b5e20"/>
    <text x="500" y="273" font-family="Arial" font-size="12" text-anchor="middle">Tenant Routes</text>
    <rect x="440" y="285" width="120" height="25" rx="5" fill="#ffffff" stroke="#1b5e20"/>
    <text x="500" y="303" font-family="Arial" font-size="12" text-anchor="middle">User Routes</text>
    <rect x="440" y="315" width="120" height="25" rx="5" fill="#ffffff" stroke="#1b5e20"/>
    <text x="500" y="333" font-family="Arial" font-size="12" text-anchor="middle">Admin Routes</text>

    <!-- Service Layer -->
    <rect x="420" y="330" width="160" height="110" rx="5" fill="#c8e6c9" stroke="#1b5e20"/>
    <text x="500" y="350" font-family="Arial" font-size="14" text-anchor="middle" font-weight="bold">Service Layer</text>
    <rect x="440" y="355" width="120" height="75" rx="5" fill="#ffffff" stroke="#1b5e20"/>
    <text x="500" y="375" font-family="Arial" font-size="11" text-anchor="middle">Auth Service</text>
    <text x="500" y="395" font-family="Arial" font-size="11" text-anchor="middle">User Service</text>
    <text x="500" y="415" font-family="Arial" font-size="11" text-anchor="middle">Tenant/Admin Service</text>

    <!-- Utility Layer -->
    <rect x="610" y="320" width="160" height="110" rx="5" fill="#c8e6c9" stroke="#1b5e20"/>
    <text x="690" y="340" font-family="Arial" font-size="14" text-anchor="middle" font-weight="bold">Utility Layer</text>
    <rect x="630" y="355" width="120" height="30" rx="5" fill="#ffffff" stroke="#1b5e20"/>
    <text x="690" y="375" font-family="Arial" font-size="12" text-anchor="middle">JWT Utils</text>
    <rect x="630" y="395" width="120" height="30" rx="5" fill="#ffffff" stroke="#1b5e20"/>
    <text x="690" y="415" font-family="Arial" font-size="12" text-anchor="middle">OAuth Utils</text>

    <!-- Message Queue Group -->
    <rect x="750" y="490" width="200" height="140" rx="10" fill="#fff8e1" stroke="#ff6f00" stroke-width="2"/>
    <text x="850" y="515" font-family="Arial" font-size="14" text-anchor="middle" font-weight="bold">Message Queue</text>
    <rect x="770" y="530" width="70" height="30" rx="5" fill="#ffffff" stroke="#ff6f00"/>
    <text x="805" y="550" font-family="Arial" font-size="12" text-anchor="middle">Bull Queue</text>
    <rect x="770" y="570" width="70" height="30" rx="5" fill="#ffffff" stroke="#ff6f00"/>
    <text x="805" y="590" font-family="Arial" font-size="12" text-anchor="middle">Producer</text>
    <rect x="860" y="530" width="70" height="30" rx="5" fill="#ffffff" stroke="#ff6f00"/>
    <text x="895" y="550" font-family="Arial" font-size="12" text-anchor="middle">Redis</text>
    <rect x="860" y="570" width="70" height="30" rx="5" fill="#ffffff" stroke="#ff6f00"/>
    <text x="895" y="590" font-family="Arial" font-size="12" text-anchor="middle">Consumer</text>

    <!-- Database Layer Group -->
    <rect x="200" y="490" width="500" height="140" rx="10" fill="#f3e5f5" stroke="#4a148c" stroke-width="2"/>
    <text x="450" y="515" font-family="Arial" font-size="14" text-anchor="middle" font-weight="bold">Database Layer</text>
    <ellipse cx="270" cy="560" rx="50" ry="30" fill="#ffffff" stroke="#4a148c" stroke-width="2"/>
    <text x="270" y="565" font-family="Arial" font-size="12" text-anchor="middle">Master DB</text>
    <ellipse cx="400" cy="560" rx="50" ry="30" fill="#ffffff" stroke="#4a148c" stroke-width="2"/>
    <text x="400" y="565" font-family="Arial" font-size="12" text-anchor="middle">Tenant 1 DB</text>
    <ellipse cx="530" cy="560" rx="50" ry="30" fill="#ffffff" stroke="#4a148c" stroke-width="2"/>
    <text x="530" y="565" font-family="Arial" font-size="12" text-anchor="middle">Tenant 2 DB</text>
    <ellipse cx="660" cy="560" rx="50" ry="30" fill="#ffffff" stroke="#4a148c" stroke-width="2"/>
    <text x="660" y="565" font-family="Arial" font-size="12" text-anchor="middle">Tenant 3 DB</text>

    <!-- OAuth Providers Group -->
    <rect x="50" y="280" width="120" height="100" rx="10" fill="#fce4ec" stroke="#880e4f" stroke-width="2"/>
    <text x="110" y="305" font-family="Arial" font-size="14" text-anchor="middle" font-weight="bold">OAuth Providers</text>
    <rect x="70" y="320" width="80" height="25" rx="5" fill="#ffffff" stroke="#880e4f"/>
    <text x="110" y="337" font-family="Arial" font-size="12" text-anchor="middle">Google</text>
    <rect x="70" y="355" width="80" height="25" rx="5" fill="#ffffff" stroke="#880e4f"/>
    <text x="110" y="372" font-family="Arial" font-size="12" text-anchor="middle">Microsoft</text>

    <!-- RBAC System Group -->
    <rect x="610" y="190" width="160" height="110" rx="5" fill="#c8e6c9" stroke="#1b5e20"/>
    <text x="690" y="210" font-family="Arial" font-size="14" text-anchor="middle" font-weight="bold">RBAC System</text>
    <rect x="630" y="225" width="120" height="25" rx="5" fill="#ffffff" stroke="#1b5e20"/>
    <text x="690" y="243" font-family="Arial" font-size="11" text-anchor="middle">Super Admin</text>
    <rect x="630" y="255" width="120" height="25" rx="5" fill="#ffffff" stroke="#1b5e20"/>
    <text x="690" y="273" font-family="Arial" font-size="11" text-anchor="middle">Tenant Admin</text>
    <rect x="630" y="285" width="120" height="25" rx="5" fill="#ffffff" stroke="#1b5e20"/>
    <text x="690" y="303" font-family="Arial" font-size="11" text-anchor="middle">Student</text>

    <!-- Connection Lines -->
    <!-- Client to Server -->
    <line x1="500" y1="110" x2="500" y2="150" stroke="#333" stroke-width="2"/>
    <polygon points="500,150 495,140 505,140" fill="#333"/>

    <!-- OAuth to Server -->
    <line x1="170" y1="330" x2="200" y2="330" stroke="#333" stroke-width="2"/>
    <polygon points="200,330 190,325 190,335" fill="#333"/>
    <line x1="200" y1="310" x2="170" y2="310" stroke="#333" stroke-width="2"/>
    <polygon points="170,310 180,305 180,315" fill="#333"/>

    <!-- Middleware to API -->
    <line x1="390" y1="250" x2="420" y2="250" stroke="#333" stroke-width="2"/>
    <polygon points="420,250 410,245 410,255" fill="#333"/>

    <!-- API to RBAC -->
    <line x1="560" y1="250" x2="610" y2="250" stroke="#333" stroke-width="2"/>
    <polygon points="610,250 600,245 600,255" fill="#333"/>

    <!-- API to Service -->
    <line x1="500" y1="320" x2="500" y2="330" stroke="#333" stroke-width="2"/>
    <polygon points="500,330 495,320 505,320" fill="#333"/>

    <!-- Service to Utility -->
    <line x1="580" y1="375" x2="610" y2="375" stroke="#333" stroke-width="2"/>
    <polygon points="610,375 600,370 600,380" fill="#333"/>

    <!-- Service to Database -->
    <line x1="500" y1="440" x2="500" y2="490" stroke="#333" stroke-width="2"/>
    <polygon points="500,490 495,480 505,480" fill="#333"/>

    <!-- Service to Queue -->
    <line x1="580" y1="390" x2="850" y2="490" stroke="#333" stroke-width="2"/>
    <polygon points="850,490 842,480 838,490" fill="#333"/>
</svg>